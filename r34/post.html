<!DOCTYPE html>
<html lang="en">
	<head>
		<!--<meta http-equiv="Content-Security-Policy" content="
			style-src 'self' 'unsafe-inline';
			connect-src 'self' https://api.rule34.xxx;
			img-src 'self' https://api-cdn.rule34.xxx;
			media-src 'self' https://api-cdn.rule34.xxx https://api-cdn-mp4.rule34.xxx;"
		/>-->
		<title>BetterBoruu: R34 post</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="style.css">
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<!-- discord embed -->
		<meta property="og:author:icon-url" content="https://chipfucker.github.io/betterboruu/r34/favicon.ico" />
		<meta property="og:color" content="#b5e3a9" />
		<meta property="og:footer:text" content="BetterBoruu" />
		<meta property="og:footer:icon-url" content="https://chipfucker.github.io/betterboruu/favicon.ico" />
	</head>
	<body>
		<div id="menuBar">
			<input type="text" id="searchBar">
			<button onclick="submitInput()" id="submit">
				<svg width="24" height="24" viewBox="0 0 24 24">
					<path fill="currentColor" d="M6.6 10.02 14 11.4a.6.6 0 0 1 0 1.18L6.6 14l-2.94 5.87a1.48 1.48 0 0 0 1.99 1.98l17.03-8.52a1.48 1.48 0 0 0 0-2.64L5.65 2.16a1.48 1.48 0 0 0-1.99 1.98l2.94 5.88Z"/>
				</svg>
			</button>
		</div>

		<div id="hideError">
			<h1>Website's bugged right now. x_x</h1>
			<p>It encountered an error before it could properly display (and hide) the elements that it needed to.</p>
			<p>It couldn't even display the error info properly. How pathetic.</p>

			<pre>BROKEN DISPLAYS BELOW!</pre>
			<div style="height: 200px"></div>
		</div>

		<div id="postDisplay" style="display: none">
			<div id="imageDisplay"></div>
			<div class="card" id="tags">
				<p class="label">Tags</p>
				<div id="tagList">
					<ul id="tagCopyright"></ul>
					<ul id="tagCharacter"></ul>
					<ul id="tagArtist"></ul>
					<ul id="tagGeneral"></ul>
					<ul id="tagMetadata"></ul>
				</div>
			</div>
			<div id="moreInfo" class="card">
				<div>
					<span><b>ID: </b></span><span id="id"></span><br>
					<span><b>User: </b></span><a id="ownerLink"><span id="owner"></span></a><br>
				</div>
			</div>
			<div id="buttons">
				<a id="openMedia" title="Open media in new tab (may be useful on Firefox for some videos!)">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path d="M13.82 21.7c.17.05.14.3-.04.3H6a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h7.5c.28 0 .5.22.5.5V5a5 5 0 0 0 5 5h2.5c.28 0 .5.22.5.5v2.3a.4.4 0 0 1-.68.27l-.2-.2a3 3 0 0 0-4.24 0l-4 4a3 3 0 0 0 0 4.25c.3.3.6.46.94.58Z"/>
							<path fill="currentColor" d="M21.66 8c.03 0 .05-.03.04-.06a3 3 0 0 0-.58-.82l-4.24-4.24a3 3 0 0 0-.82-.58.04.04 0 0 0-.06.04V5a3 3 0 0 0 3 3h2.66ZM18.3 14.3a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L20 17.42V23a1 1 0 1 1-2 0v-5.59l-2.3 2.3a1 1 0 0 1-1.4-1.42l4-4Z"/>
						</svg>
						<span>Open media</span>
					</div>
				</a>
				<a id="openPost" title="Open original post on rule34.xxx">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path d="M15 2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V4.41l-4.3 4.3a1 1 0 1
								1-1.4-1.42L19.58 3H16a1 1 0 0 1-1-1Z"/>
							<path d="M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-6a1 1 0 1 0-2 0v6a1 1 0 0 1-1
								1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h6a1 1 0 1 0 0-2H5Z"/>
						</svg>
						<span>Original post</span>
					</div>
				</a>
				<a id="copyMedia" onclick="copyMedia()" title="Copy link to the original media">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path d="M3 16a1 1 0 0 1-1-1v-5a8 8 0 0 1 8-8h5a1 1 0 0 1 1 1v.5a.5.5 0 0 1-.5.5H10a6 6 0
								0 0-6 6v5.5a.5.5 0 0 1-.5.5H3Z"/>
							<path d="M6 18a4 4 0 0 0 4 4h8a4 4 0 0 0 4-4v-4h-3a5 5 0 0 1-5-5V6h-4a4 4 0 0 0-4 4v8Z"/>
							<path d="M21.73 12a3 3 0 0 0-.6-.88l-4.25-4.24a3 3 0 0 0-.88-.61V9a3 3 0 0 0 3 3h2.73Z"/>
						</svg>
						<span>Copy media link</span>
					</div>
				</a>
				<a id="copyPresetName" onclick="copyPresetName()" title="Copy a preset filename that improvises with the post's info">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path d="m13.96 5.46 4.58 4.58a1 1 0 0 0 1.42 0l1.38-1.38a2 2 0 0 0 0-2.82l-3.18-3.18a2 2
								0 0 0-2.82 0l-1.38 1.38a1 1 0 0 0 0 1.42ZM2.11 20.16l.73-4.22a3 3 0 0 1
								.83-1.61l7.87-7.87a1 1 0 0 1 1.42 0l4.58 4.58a1 1 0 0 1 0 1.42l-7.87 7.87a3 3 0 0
								1-1.6.83l-4.23.73a1.5 1.5 0 0 1-1.73-1.73Z"/>
						</svg>
						<span>Copy Preset Name</span>
					</div>
				</a>
				<a id="copyLawlietCommand" onclick="copyLawlietCommand()" title="Copy a command for Lawliet that searches for the artists">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path fill-rule="evenodd" d="M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0
								0 0-3-3H5Zm12.79 3.37a.25.25 0 0 0-.22-.37h-3.13a.75.75 0 0 0-.66.38L6.21
								18.63c-.1.16.03.37.22.37h3.13c.27 0 .52-.14.66-.38l7.57-13.25Z" clip-rule="evenodd"/>
						</svg>
						<span>Copy artists as Lawliet command</span>
					</div>
				</a>
				<!-- <a id="downloadLink" title="Download media to device">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path d="M12 2a1 1 0 0 1 1 1v10.59l3.3-3.3a1 1 0 1 1 1.4 1.42l-5 5a1 1 0 0 1-1.4 0l-5-5a1
								1 0 1 1 1.4-1.42l3.3 3.3V3a1 1 0 0 1 1-1ZM3 20a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2H3Z"/>
						</svg>
						<span>Download</span>
					</div>
				</a> -->
				<!-- <a id="specialDownloadLink" title="Download media to device (with preset name!)">
					<div class="button">
						<svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
							<path d="M12 2a1 1 0 0 1 1 1v10.59l3.3-3.3a1 1 0 1 1 1.4 1.42l-5 5a1 1 0 0 1-1.4 0l-5-5a1
								1 0 1 1 1.4-1.42l3.3 3.3V3a1 1 0 0 1 1-1ZM3 20a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2H3Z"/>
						</svg>
						<span>Download with preset name</span>
					</div>
				</a> -->
			</div>

			<div id="rawPostInfo" class="raw" display="false">
				<pre onclick="displayRawInfo()" style="cursor: pointer">[ \/ SHOW RAW POST INFO \/ ]</pre>
				<pre style="display: none"></pre>
			</div>
		</div>

		<div id="errDisplay" style="display: none">
			<h1>Couldn't display info. @_@</h1>
			<p>Check your internet connection, perhaps?</p>
			<p>It's likely that you're on a public network, or at least one that forbids accessing mature content.
				<br>Quit browsing porn in public, <b>weirdo!</b></p>
			<h2>This could also be on me.</h2>
			<p>This website will probably never not be a work-in-progress, so there's a high chance you came across the
				website not far after I made a change that needs a bit more fixing before it functions properly.</p>
			<p>If you with full faith believe this to be erreneous, contact me on Discord, I don't bite!</p>
			<a href="https://discord.com/users/1184619891215573042">
				<div class="button">
					@chipfucker
				</div>
			</a>
			<div class="warning">
				<p>Side note, to the Bark filter onlookers: This is not me intentionally looking up anything mature.</p>
				<p>
					I'm working on a website that takes most boorus'&mdash;image boards that make use of tags and other
					fields&mdash;API's and combine them into a single website for ease of use, and some of those boorus
					are mature. The display that is brought up on error is there as a precaution for when the user tries
					and fails to look for mature content.
				</p>
				<p>
					I usually use a debug mode to prevent any attempts to fetch info from a mature domain, using local and
					safe-for-work content, but I may have made an error enabling it, and upon opening the website,
					attemptedly accessed pornographic links. That's my mistake, and I promise you no bypasses are attempted
					to look at mature content.
				</p>
			</div>
			<pre style="margin-top: 30px;">ERROR INFO:</pre>
			<div id="errInfo" class="raw"></div>
		</div>

		<script src="post.js"></script>
	</body>
</html>
